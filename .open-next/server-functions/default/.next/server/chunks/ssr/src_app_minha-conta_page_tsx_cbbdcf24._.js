module.exports=[3283,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(55679),f=a.i(50944);function g({aberto:a,onFechar:c}){let[g,h]=(0,d.useState)(""),[i,j]=(0,d.useState)(""),[k,l]=(0,d.useState)(""),[m,n]=(0,d.useState)(!1),o=(0,f.useRouter)();if(!a)return null;let p=async()=>{if(l(""),!g||!i)return void l("Preencha todos os campos");if(g!==i)return void l("As senhas não coincidem");n(!0);let a=(0,e.criarSupabaseNavegador)(),{error:b}=await a.auth.updateUser({password:g});(n(!1),b)?l(b.message):(c(),o.push("/"))};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"relative w-full max-w-md rounded-2xl bg-black/90 p-6 text-white shadow-lg",children:[(0,b.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:"Redefinir senha"}),k&&(0,b.jsx)("p",{className:"mb-3 text-red-400",children:k}),(0,b.jsx)("input",{type:"password",placeholder:"Nova senha",value:g,onChange:a=>h(a.target.value),className:"mb-3 w-full rounded-lg border border-white/20 bg-black/80 px-4 py-2 text-white outline-none"}),(0,b.jsx)("input",{type:"password",placeholder:"Confirmar nova senha",value:i,onChange:a=>j(a.target.value),className:"mb-3 w-full rounded-lg border border-white/20 bg-black/80 px-4 py-2 text-white outline-none"}),(0,b.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:c,className:"rounded-lg border border-white/20 px-4 py-2 text-sm hover:bg-white/10 transition",children:"Cancelar"}),(0,b.jsx)("button",{onClick:p,disabled:m,className:"rounded-lg bg-purple-500 px-4 py-2 text-sm text-white hover:bg-purple-600 transition",children:m?"Redefinindo...":"Redefinir"})]})]})})}function h({label:a,value:c}){return(0,b.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-4 transition hover:scale-[1.02] hover:border-white/20 animate-float",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-cyan-500/10 opacity-0 transition group-hover:opacity-100 neon-pulse"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"text-xs uppercase tracking-wide text-white/60",children:a}),(0,b.jsx)("div",{className:"mt-1 text-lg",children:c})]})]})}function i(){let[a,e]=(0,d.useState)(null),[f,i]=(0,d.useState)(!1);if((0,d.useEffect)(()=>{!async function(){let a=await fetch("/api/minha-conta");if(!a.ok){window.location.href="/login?retorno=/minha-conta";return}e(await a.json())}()},[]),!a)return null;let j=a.usuario.user_metadata?.display_name?.trim()||a.usuario.email.split("@")[0].toLowerCase()||"usuário",k=a.usuario.email.toLowerCase();return(0,b.jsxs)("main",{className:"relative mx-auto w-full max-w-6xl px-4 py-10",children:[(0,b.jsxs)("section",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsx)(h,{label:"Nome",value:j}),(0,b.jsx)(h,{label:"Email",value:k}),(0,b.jsx)(h,{label:"Downloads",value:String(a.totalDownloads??0)}),(0,b.jsx)(h,{label:"Assinatura",value:a.labelAssinatura})]}),(0,b.jsxs)("div",{className:"mt-6 flex flex-wrap items-center gap-4",children:[(0,b.jsxs)("button",{onClick:()=>i(!0),className:"group relative overflow-hidden rounded-xl border border-white/15 bg-white/5 px-5 py-2 text-sm font-medium transition hover:scale-[1.03] neon-pulse",children:[(0,b.jsx)("span",{className:"relative z-10",children:"Redefinir senha"}),(0,b.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/30 to-cyan-500/30 opacity-0 transition group-hover:opacity-100"})]}),"inativa"===a.statusAssinatura?(0,b.jsxs)(c.default,{href:"/assinaturas",className:"group relative overflow-hidden rounded-xl bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 px-6 py-2 text-sm text-black transition hover:scale-[1.05] neon-pulse",children:[(0,b.jsx)("span",{className:"relative z-10 flex items-center gap-2",children:"⚡ Assinar agora"}),(0,b.jsx)("span",{className:"absolute inset-0 blur-xl opacity-50 group-hover:opacity-80 bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500"})]}):(0,b.jsxs)("span",{className:"rounded-full border border-emerald-400/30 bg-emerald-400/10 px-4 py-1.5 text-xs text-emerald-300 neon-pulse",children:["✔ ",a.labelAssinatura]})]}),(0,b.jsx)(g,{aberto:f,onFechar:()=>i(!1)}),(0,b.jsxs)("section",{className:"mt-10 rounded-3xl border border-white/10 bg-white/5 p-5 backdrop-blur-xl",children:[(0,b.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg",children:"Meus downloads"}),(0,b.jsxs)("span",{className:"text-xs text-white/60",children:[a.totalDownloads??0," no total"]})]}),0===a.listaDownloads.length?(0,b.jsx)("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-8 text-center text-sm text-white/70 animate-float",children:"Nenhum download encontrado"}):(0,b.jsx)("ul",{className:"space-y-3",children:a.listaDownloads.map(a=>(0,b.jsxs)("li",{className:"group relative overflow-hidden rounded-2xl border border-white/10 bg-black/40 p-4 transition hover:scale-[1.02] hover:border-white/25 animate-float",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-0 transition group-hover:opacity-100",children:(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 via-cyan-500/20 to-pink-500/20 blur-xl neon-pulse"})}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"truncate text-sm",children:a.item?.nome??"Item removido"}),(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-xs text-white/70",children:[(0,b.jsx)("span",{children:new Date(a.criado_em).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})}),a.item?.tipo&&(0,b.jsx)("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] uppercase tracking-widest neon-pulse",children:function(a){switch(a){case"plugin":return"Plugin";case"drum-kit":return"Drum-Kit";case"daw":return"DAW";case"programa":return"Programa"}}(a.item.tipo)})]})]})]},a.id))})]})]})}a.s(["default",()=>i],3283)}];

//# sourceMappingURL=src_app_minha-conta_page_tsx_cbbdcf24._.js.map