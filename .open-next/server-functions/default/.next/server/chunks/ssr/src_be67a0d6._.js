module.exports=[25642,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({message:a,type:d,onClose:e,duration:f=1e4}){return(0,c.useEffect)(()=>{let a=setTimeout(e,f);return()=>clearTimeout(a)},[e,f]),(0,b.jsx)("div",{className:"fixed top-16 left-1/2 z-50 -translate-x-1/2 animate-[slideIn_0.35s_ease-out]",children:(0,b.jsx)("div",{className:`rounded-xl border bg-black/80 px-4 py-3 text-sm backdrop-blur ${{success:"border-green-400/40 text-green-300 shadow-[0_0_25px_rgba(34,197,94,0.45)]",error:"border-red-500/40 text-red-300 shadow-[0_0_25px_rgba(239,68,68,0.45)]",info:"border-cyan-400/40 text-cyan-300 shadow-[0_0_25px_rgba(34,211,238,0.45)]"}[d]}`,children:a})})}a.s(["CyberToast",()=>d])},84015,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(55679),f=a.i(25642);function g(){let a=(0,c.useMemo)(()=>(0,e.criarSupabaseNavegador)(),[]),g=(0,d.useRouter)(),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null);function p(a,b="info"){o({message:a,type:b})}(0,c.useEffect)(()=>{(async()=>{try{let{data:b,error:c}=await a.auth.getSession();if(c||!b.session){p("Link inválido ou expirado. Gere um novo e-mail de redefinição.","error"),m(!1);return}m(!0),p("Digite sua nova senha.","info")}catch{p("Erro ao validar link de redefinição.","error"),m(!1)}})()},[a]);let q=async()=>{if(!h||h.length<6)return void p("A senha deve ter pelo menos 6 caracteres.","info");k(!0);try{let{error:b}=await a.auth.updateUser({password:h});if(b){if(b.message?.toLowerCase().includes("different from the old password"))return void p("A nova senha deve ser diferente da senha anterior.","info");p("Erro ao redefinir senha. Tente novamente.","error");return}p("Senha redefinida com sucesso!","success"),setTimeout(()=>{g.push("/login")},1500)}catch{p("Erro inesperado ao redefinir senha.","error")}finally{k(!1)}};return(0,b.jsxs)("main",{className:"mx-auto w-full max-w-md px-4 py-10",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 backdrop-blur",children:[(0,b.jsx)("h1",{className:"text-2xl tracking-tight",children:"FonteDosPlugins"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-white/70",children:"Defina uma nova senha para sua conta."}),(0,b.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-white/70",children:"Nova senha"}),(0,b.jsx)("input",{type:"password",value:h,onChange:a=>i(a.target.value),disabled:!l,placeholder:"mínimo 6 caracteres",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm outline-none focus:border-white/20 disabled:opacity-50"})]}),(0,b.jsx)("button",{onClick:q,disabled:!l||j,className:"w-full rounded-xl border border-white/10 bg-white/10 px-4 py-2 text-sm font-medium hover:bg-white/15 disabled:opacity-60",children:j?"Processando...":"Redefinir senha"}),(0,b.jsx)("p",{className:"text-xs text-white/50 text-center",children:"Após redefinir, você será redirecionado para o login."})]})]}),n&&(0,b.jsx)(f.CyberToast,{message:n.message,type:n.type,onClose:()=>o(null)})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=src_be67a0d6._.js.map