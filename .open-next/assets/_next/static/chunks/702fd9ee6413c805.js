(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82705,e=>{"use strict";var r=e.i(43476),s=e.i(71645);function a({message:e,type:a,onClose:t,duration:i=1e4}){return(0,s.useEffect)(()=>{let e=setTimeout(t,i);return()=>clearTimeout(e)},[t,i]),(0,r.jsx)("div",{className:"fixed top-16 left-1/2 z-50 -translate-x-1/2 animate-[slideIn_0.35s_ease-out]",children:(0,r.jsx)("div",{className:`rounded-xl border bg-black/80 px-4 py-3 text-sm backdrop-blur ${{success:"border-green-400/40 text-green-300 shadow-[0_0_25px_rgba(34,197,94,0.45)]",error:"border-red-500/40 text-red-300 shadow-[0_0_25px_rgba(239,68,68,0.45)]",info:"border-cyan-400/40 text-cyan-300 shadow-[0_0_25px_rgba(34,211,238,0.45)]"}[a]}`,children:e})})}e.s(["CyberToast",()=>a])},77861,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(18566),t=e.i(68694),i=e.i(82705);function o(){let e=(0,s.useMemo)(()=>(0,t.criarSupabaseNavegador)(),[]),o=(0,a.useRouter)(),[n,d]=(0,s.useState)(""),[l,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[x,m]=(0,s.useState)(null);function p(e,r="info"){m({message:e,type:r})}(0,s.useEffect)(()=>{(async()=>{try{let{data:r,error:s}=await e.auth.getSession();if(s||!r.session){p("Link inválido ou expirado. Gere um novo e-mail de redefinição.","error"),h(!1);return}h(!0),p("Digite sua nova senha.","info")}catch{p("Erro ao validar link de redefinição.","error"),h(!1)}})()},[e]);let b=async()=>{if(!n||n.length<6)return void p("A senha deve ter pelo menos 6 caracteres.","info");c(!0);try{let{error:r}=await e.auth.updateUser({password:n});if(r){if(r.message?.toLowerCase().includes("different from the old password"))return void p("A nova senha deve ser diferente da senha anterior.","info");p("Erro ao redefinir senha. Tente novamente.","error");return}p("Senha redefinida com sucesso!","success"),setTimeout(()=>{o.push("/login")},1500)}catch{p("Erro inesperado ao redefinir senha.","error")}finally{c(!1)}};return(0,r.jsxs)("main",{className:"mx-auto w-full max-w-md px-4 py-10",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 backdrop-blur",children:[(0,r.jsx)("h1",{className:"text-2xl tracking-tight",children:"FonteDosPlugins"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-white/70",children:"Defina uma nova senha para sua conta."}),(0,r.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-1 block text-xs text-white/70",children:"Nova senha"}),(0,r.jsx)("input",{type:"password",value:n,onChange:e=>d(e.target.value),disabled:!u,placeholder:"mínimo 6 caracteres",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm outline-none focus:border-white/20 disabled:opacity-50"})]}),(0,r.jsx)("button",{onClick:b,disabled:!u||l,className:"w-full rounded-xl border border-white/10 bg-white/10 px-4 py-2 text-sm font-medium hover:bg-white/15 disabled:opacity-60",children:l?"Processando...":"Redefinir senha"}),(0,r.jsx)("p",{className:"text-xs text-white/50 text-center",children:"Após redefinir, você será redirecionado para o login."})]})]}),x&&(0,r.jsx)(i.CyberToast,{message:x.message,type:x.type,onClose:()=>m(null)})]})}e.s(["default",()=>o])}]);